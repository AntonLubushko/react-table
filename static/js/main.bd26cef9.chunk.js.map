{"version":3,"sources":["js/constants/action-types.js","js/reducers/index.js","js/store/index.js","js/components/NotFound.jsx","js/components/Form.jsx","js/actions/index.js","js/components/Posts.jsx","js/components/SinglePost.jsx","js/components/App.jsx","index.js"],"names":["POSTS_LOADED","POST_LOADED","DATE_DIRECTION_CHANGED","VIEWS_DIRECTION_CHANGED","initialState","dateDirection","viewsDirection","remotePosts","currentPost","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","history","createHistory","store","createStore","connectRouter","state","arguments","length","undefined","action","type","Object","assign","concat","payload","applyMiddleware","routerMiddleware","thunk","NotFound","react_default","a","createElement","Component","ConnectedForm","Link","to","Form","connect","START_DATE","ALL_TIME","Date","now","VIEWS_COLUMN","DATE_COLUMN","addAdditionalData","post","views","Math","round","random","addViewsAmount","createdAt","addDate","Post","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","props","getPosts","_this","material_table_default","columns","title","field","sorting","render","rowData","body","slice","searchable","defaultSort","moment","format","actions","icon","tooltip","onClick","event","push","id","onOrderChange","orderedColumnId","orderDirection","changeDirection","data","posts","localization","header","options","actionsColumnIndex","columnsButton","exportButton","pageSize","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","_ref2","wrap","_context","prev","next","axios","get","sent","forEach","t0","console","log","stop","_x","SinglePost","backToPosts","match","params","isNaN","getPost","className","userId","Button_default","variant","_ref3","_callee2","_ref4","_context2","_x2","App","Switch","Route","exact","path","component","es","BrowserRouter","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd26cef9.chunk.js","sourcesContent":["export const POSTS_LOADED = \"POSTS_LOADED\";\r\nexport const POST_LOADED = \"POST_LOADED\";\r\nexport const DATE_DIRECTION_CHANGED = \"DATE_DIRECTION_CHANGED\";\r\nexport const VIEWS_DIRECTION_CHANGED = \"VIEWS_DIRECTION_CHANGED\";","import { POSTS_LOADED, POST_LOADED, DATE_DIRECTION_CHANGED, VIEWS_DIRECTION_CHANGED } from \"../constants/action-types\";\r\nimport { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nconst initialState = {\r\n  dateDirection: null,\r\n  viewsDirection: null,\r\n  remotePosts: [],\r\n  currentPost: {}\r\n};\r\n\r\nexport function rootReducer(state = initialState, action) {\r\n\r\n  if (action.type === POSTS_LOADED) {\r\n    return Object.assign({}, state, {\r\n      remotePosts: state.remotePosts.concat(action.payload)\r\n    });\r\n  }\r\n\r\n  if (action.type === POST_LOADED) {\r\n    return Object.assign({}, state, {\r\n      currentPost: action.payload\r\n    });\r\n  }\r\n\r\n  if (action.type === VIEWS_DIRECTION_CHANGED) {\r\n    return Object.assign({}, state, {\r\n      viewsDirection: action.payload,\r\n      dateDirection: null\r\n    });\r\n  }\r\n\r\n  if (action.type === DATE_DIRECTION_CHANGED) {\r\n    return Object.assign({}, state, {\r\n      viewsDirection: null,\r\n      dateDirection: action.payload\r\n    });\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default (history) => combineReducers({\r\n  router: connectRouter(history)\r\n})","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { rootReducer } from '../reducers';\r\nimport thunk from \"redux-thunk\";\r\nimport { connectRouter, routerMiddleware } from \"connected-react-router\";\r\nimport createHistory from \"history/createBrowserHistory\";\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const history = createHistory();\r\n\r\nconst store = createStore(\r\n  connectRouter(history)(rootReducer),\r\n  storeEnhancers(applyMiddleware(routerMiddleware(history), thunk))\r\n);\r\n\r\nexport default store;","import React, { Component } from \"react\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        page not found\r\n  \t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ConnectedForm extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>  \r\n        <h2>Hello, how are you?</h2>\r\n        <Link to={\"/posts\"}>{\"To posts table\"}</Link>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Form = connect(null, null)(ConnectedForm);\r\n\r\nexport default Form;","import { POSTS_LOADED, POST_LOADED, DATE_DIRECTION_CHANGED, VIEWS_DIRECTION_CHANGED } from '../constants/action-types.js';\r\nimport axios from \"axios\";\r\n\r\nconst START_DATE = 1400000000000;\r\nconst END_DATE = Date.now();\r\nconst ALL_TIME = END_DATE - START_DATE;\r\nconst VIEWS_COLUMN = 2;\r\nconst DATE_COLUMN = 3;\r\n\r\nexport function changeDirection(orderedColumnId, orderDirection) {\r\n  return function(dispatch) {\r\n    if (orderedColumnId === VIEWS_COLUMN) {\r\n      dispatch({ type: VIEWS_DIRECTION_CHANGED, payload: orderDirection });\r\n    }\r\n    if (orderedColumnId === DATE_COLUMN) {\r\n      dispatch({ type: DATE_DIRECTION_CHANGED, payload: orderDirection });\r\n    }\r\n  }\r\n};\r\n\r\nexport function getPosts() {\r\n  return async function(dispatch) {\r\n    try {\r\n      let { data } = await axios.get(\"https://jsonplaceholder.typicode.com/posts\");\r\n      data.forEach(post => addAdditionalData(post));\r\n      dispatch({ type: POSTS_LOADED, payload: data });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n};\r\n\r\nexport function getPost(id) {\r\n  return async function(dispatch) {\r\n    try {\r\n      let { data } = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}`);\r\n      dispatch({ type: POST_LOADED, payload: data });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n};\r\n\r\nfunction addAdditionalData(post) {\r\n  addViewsAmount(post);\r\n  addDate(post);\r\n}\r\n\r\nfunction addViewsAmount(post) {\r\n  post.views = Math.round(Math.random() * 1000);\r\n}\r\n\r\nfunction addDate(post) {\r\n  post.createdAt = START_DATE + Math.round(Math.random() * (ALL_TIME));\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPosts } from \"../actions\";\r\nimport { changeDirection } from \"../actions\";\r\nimport MaterialTable from \"material-table\";\r\nimport moment from \"moment\";\r\n\r\nconst SYMBOLS_TEXT = 30;\r\n\r\nexport class Post extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getPosts();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <MaterialTable\r\n        columns={[\r\n          { title: 'Title', field: 'title', sorting: false },\r\n          { \r\n            title: 'Text', \r\n            field: 'body', \r\n            sorting: false,\r\n            render: rowData => rowData.body.slice(0, SYMBOLS_TEXT) + \"...\"\r\n          },\r\n          { \r\n            title: 'Views', \r\n            field: 'views', \r\n            type: 'numeric', \r\n            searchable: false,\r\n            defaultSort: this.props.viewsDirection\r\n          },\r\n          {\r\n            title: 'CreatedAt',\r\n            field: 'createdAt',\r\n            type: 'date',\r\n            defaultSort: this.props.dateDirection,\r\n            searchable: false,\r\n            render: rowData => moment(rowData.createdAt).format(\"DD MMM YYYY HH:mm\")\r\n          }\r\n        ]}\r\n       \r\n        actions={[\r\n          {\r\n            icon: 'info',\r\n            tooltip: 'details',\r\n            onClick: (event, rowData) => {\r\n              this.props.history.push(`/posts/${rowData.id}`);\r\n            },\r\n          }\r\n        ]}\r\n          \r\n        onOrderChange={(orderedColumnId, orderDirection)=>{\r\n            this.props.changeDirection(orderedColumnId, orderDirection);\r\n        }}\r\n\r\n        data={this.props.posts}\r\n        title=\"Posts\"\r\n        localization={{\r\n          header: {\r\n            actions: 'Details'\r\n          },\r\n        }}\r\n        \r\n        options={{\r\n          actionsColumnIndex: -1,\r\n          columnsButton: false,\r\n          exportButton: false,\r\n          pageSize:10\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    posts: state.remotePosts,\r\n    dateDirection: state.dateDirection,\r\n    viewsDirection: state.viewsDirection\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps, { getPosts, changeDirection }\r\n)(Post);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPost } from \"../actions\";\r\nimport Button from '@material-ui/core/Button';\r\nimport \"./post.css\";\r\n\r\nclass SinglePost extends Component {\r\n\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id;\r\n    if (isNaN(id)) {\r\n      this.props.history.push('/posts');\r\n    }\r\n    this.props.getPost(id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.post.body? \r\n          <div>\r\n            <table className=\"tbl\">\r\n              <tbody>\r\n                <tr>\r\n                  <th className=\"w80\">id</th>\r\n                  <th className=\"w80\">User id</th>\r\n                  <th className=\"w200\">Title</th>\r\n                  <th>Text</th>\r\n                </tr>\r\n                <tr>\r\n                  <td>{this.props.post.id}</td>\r\n                  <td>{this.props.post.userId}</td>\r\n                  <td>{this.props.post.title}</td>\r\n                  <td>{this.props.post.body}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          :\r\n          <div></div>\r\n        }\r\n        <Button \r\n          variant=\"contained\" \r\n          className=\"btn\"\r\n          onClick={this.backToPosts}>\r\n  \r\n          BACK\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  backToPosts = () => {\r\n    this.props.history.push('/posts');\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    post: state.currentPost\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps, { getPost }\r\n)(SinglePost);","import { Route, Switch } from 'react-router-dom';\r\nimport React from 'react';\r\nimport NotFound from './NotFound';\r\nimport Form from './Form';\r\nimport Post from \"./Posts\";\r\nimport SinglePost from \"./SinglePost\";\r\n\r\nconst App = () => (\r\n  <div className=\"row mt-5\">\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Form} />\r\n      <Route exact path=\"/posts\" component={Post} />\r\n      <Route exact path=\"/posts/:id\" component={SinglePost} />\r\n      <Route path=\"*\" component={NotFound} />\r\n    </Switch>\r\n  </div>\r\n);\r\n\r\nexport default App;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './js/store';\nimport App from './js/components/App';\nimport { BrowserRouter } from 'react-router-dom'\n\nrender(\n  <Provider store={store}>\n  \t <BrowserRouter>\n  \t\t<App />\n  \t</BrowserRouter>\t\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}